

## æ•°æ®æŒä¹…åŒ–

å°†ç¨‹åºè¿è¡Œæ—¶çš„æ•°æ®ä¿å­˜åˆ°ç¡¬ç›˜ï¼Œè¿™æ ·ç¨‹åºå…³é—­åæ•°æ®ä¸ä¼šä¸¢å¤±ã€‚

```
å†…å­˜ä¸­çš„æ•°æ®ï¼ˆæ˜“å¤±æ€§ï¼‰
   â†“ æŒä¹…åŒ–ï¼ˆä¿å­˜ï¼‰
æ–‡ä»¶ä¸­çš„æ•°æ®ï¼ˆæ°¸ä¹…æ€§ï¼‰
   â†“ è¯»å–ï¼ˆåŠ è½½ï¼‰
å†…å­˜ä¸­çš„æ•°æ®ï¼ˆæ˜“å¤±æ€§ï¼‰
```

## IOæµ

I   inè¾“å…¥   è¿›å…¥å†…å­˜ï¼ˆè¯»ï¼‰ 			scanfï¼šé”®ç›˜ -> å†…å­˜ä¸­ç¨‹åº

O outè¾“å‡º  ç¦»å¼€å†…å­˜ï¼ˆå†™ï¼‰			printfï¼šå†…å­˜ä¸­ç¨‹åº->å±å¹•

å£è¯€  è¯»å…¥  å†™å‡º



## æ–‡ä»¶åˆ†ç±»

1.äºŒè¿›åˆ¶æ–‡ä»¶ï¼šæ¯ä¸€ä¸ªå­—èŠ‚æ”¾ä¸€ä¸ªASCIIä»£ç 

2.æ–‡æœ¬æ–‡ä»¶ï¼šæŠŠå†…å­˜ä¸­çš„æ•°æ®æŒ‰å…¶åœ¨å†…å­˜ä¸­çš„å­˜å‚¨å½¢
å¼åŸæ ·è¾“å‡ºåˆ°ç£ç›˜ä¸Šå­˜æ”¾

![image-20251101160941295](C:\Users\28293\AppData\Roaming\Typora\typora-user-images\image-20251101160941295.png)



## æ–‡ä»¶æ“ä½œ

### 1.åŸºæœ¬æµç¨‹

```c
// æ ‡å‡†æµç¨‹
FILE *fp;                    // 1. å£°æ˜æ–‡ä»¶æŒ‡é’ˆ
fp = fopen("data.txt", "r"); // 2. æ‰“å¼€æ–‡ä»¶
// ... è¿›è¡Œè¯»å†™æ“ä½œ ...      // 3. æ“ä½œæ–‡ä»¶
fclose(fp);                  // 4. å…³é—­æ–‡ä»¶
```

### 2.æ–‡ä»¶æ‰“å¼€æ¨¡å¼

| æ¨¡å¼       | è¯´æ˜       | æ–‡ä»¶ä¸å­˜åœ¨     | æ–‡ä»¶å­˜åœ¨                               |
| :--------- | :--------- | :------------- | :------------------------------------- |
| "r"        | åªè¯»       | å¤±è´¥           | ä»å¤´è¯»å–                               |
| "w"        | åªå†™       | åˆ›å»ºæ–°æ–‡ä»¶     | æ¸…ç©ºåŸå†…å®¹                             |
| "a"        | è¿½åŠ å†™     | åˆ›å»ºæ–°æ–‡ä»¶     | è¿½åŠ åˆ°æœ«å°¾                             |
| "r+"       | è¯»å†™       | å¤±è´¥           | ä»å¤´å¼€å§‹å†™ï¼Œä¸å¯¹æŒ‡é’ˆå¤„ç†ä¼šè¦†ç›–åŸå…ˆå†…å®¹ |
| "w+"       | è¯»å†™       | åˆ›å»ºæ–°æ–‡ä»¶     | æ¸…ç©ºåŸå†…å®¹                             |
| "a+"       | è¯»å†™è¿½åŠ    | åˆ›å»ºæ–°æ–‡ä»¶     | è¿½åŠ åˆ°æœ«å°¾                             |
| "rb", "wb" | äºŒè¿›åˆ¶æ¨¡å¼ | ç”¨äºéæ–‡æœ¬æ–‡ä»¶ | -                                      |



### 3.å¸¸ç”¨æ–‡ä»¶æ“ä½œå‡½æ•°é€ŸæŸ¥è¡¨

| å‡½æ•°      | ç”¨é€”           | ç¤ºä¾‹                               |
| :-------- | :------------- | :--------------------------------- |
| fopen()   | æ‰“å¼€æ–‡ä»¶       | fp = fopen("data.txt", "r")        |
| fclose()  | å…³é—­æ–‡ä»¶       | fclose(fp)                         |
| fprintf() | æ ¼å¼åŒ–å†™å…¥æ–‡æœ¬ | fprintf(fp, "%d\n", num)           |
| fscanf()  | æ ¼å¼åŒ–è¯»å–æ–‡æœ¬ | fscanf(fp, "%d", &num)             |
| fwrite()  | å†™å…¥äºŒè¿›åˆ¶æ•°æ® | fwrite(&data, sizeof(data), 1, fp) |
| fread()   | è¯»å–äºŒè¿›åˆ¶æ•°æ® | fread(&data, sizeof(data), 1, fp)  |
| fgets()   | è¯»å–ä¸€è¡Œæ–‡æœ¬   | fgets(str, 100, fp)                |
| fputs()   | å†™å…¥ä¸€è¡Œæ–‡æœ¬   | fputs("hello\n", fp)               |
| fseek()   | ç§»åŠ¨æ–‡ä»¶æŒ‡é’ˆ   | fseek(fp, 0, SEEK_SET)             |
| ftell()   | è·å–å½“å‰ä½ç½®   | pos = ftell(fp)                    |



## ä¸ªäººè¯¾ç¨‹æ„Ÿæ‚Ÿ

### 1.freadå‚æ•°ç†è§£

#### å‡½æ•°åŸå‹

```c
size_t fread(void *buffer, size_t size, size_t count, FILE *stream);
//           â†‘å­˜å‚¨ä½ç½®      â†‘æ¯å•å…ƒå­—èŠ‚   â†‘è¯»å–å•å…ƒæ•°  â†‘æ–‡ä»¶æŒ‡é’ˆ
//           è¿”å›å€¼ï¼šæˆåŠŸè¯»å–çš„å•å…ƒæ•°
```

#### æ–¹å¼1ï¼šæŠŠæ•´ä¸ªbufå½“ä½œ1ä¸ªå•å…ƒï¼ˆå®¹æ˜“å‡ºé”™ï¼‰

```c
// é”™è¯¯ç¤ºèŒƒï¼šè¦æ±‚ä¸€æ¬¡æ€§è¯»æ»¡10å­—èŠ‚æ‰ç®—1ä¸ªå•å…ƒ
res = fread(buf, sizeof(buf), 1, fp);
//            â†‘10å­—èŠ‚ä¸º1å•å…ƒ  â†‘è¯»1ä¸ªå•å…ƒ

// é—®é¢˜ï¼šå¦‚æœæ–‡ä»¶åªæœ‰6å­—èŠ‚ï¼ˆæ¯”å¦‚"Hello"ï¼‰
// ç»“æœï¼šres=0ï¼ˆæ²¡è¯»æ»¡10å­—èŠ‚ï¼Œç®—0ä¸ªå•å…ƒï¼‰
// ä½†å®é™…bufé‡Œæœ‰æ•°æ®ï¼è¿™å¾ˆå®¹æ˜“è¯¯å¯¼ï¼
```

#### æ–¹å¼2ï¼š1å­—èŠ‚=1å•å…ƒï¼ˆæ¨èï¼‰

```c
// æ­£ç¡®åšæ³•ï¼šæ¯1å­—èŠ‚ç®—1ä¸ªå•å…ƒ
res = fread(buf, 1, sizeof(buf), fp);
//            â†‘1å­—èŠ‚ä¸º1å•å…ƒ  â†‘æœ€å¤šè¯»10ä¸ªå•å…ƒ

// å¦‚æœæ–‡ä»¶åªæœ‰6å­—èŠ‚
// ç»“æœï¼šres=6ï¼ˆæˆåŠŸè¯»å–6ä¸ªå•å…ƒï¼‰
// è¿”å›å€¼èƒ½å‡†ç¡®åæ˜ è¯»åˆ°äº†å¤šå°‘æ•°æ®ï¼
```



### 2.å¾ªç¯è¯»å–å¤§æ–‡ä»¶çš„æ ‡å‡†æ¨¡å¼

```c
// æ ‡å‡†çš„åˆ†æ‰¹è¯»å–æ¨¡å¼
while( (res = fread(buf, 1, sizeof(buf), fp)) > 0 )
{
    // 1. å¤„ç†æœ¬æ¬¡è¯»å–çš„æ•°æ®
    printf("æœ¬æ¬¡è¯»å–äº† %d å­—èŠ‚\n", res);
    printf("å†…å®¹ï¼š%s\n", buf);
    
    // 2. âš ï¸ é‡ç‚¹ï¼šæ¸…ç©ºç¼“å†²åŒº
    memset(buf, 0, sizeof(buf));
}
```



#### ä¸ºä»€ä¹ˆè¦memsetæ¸…ç©ºç¼“å†²åŒºï¼Ÿ

```c
// å‡è®¾æ–‡ä»¶å†…å®¹ï¼š"HelloWorld123"ï¼ˆ13å­—èŠ‚ï¼‰
// bufå¤§å°ï¼š10å­—èŠ‚

// ç¬¬1æ¬¡å¾ªç¯ï¼šè¯»å– "HelloWorld"ï¼ˆ10å­—èŠ‚ï¼‰
buf = "HelloWorld"

// ç¬¬2æ¬¡å¾ªç¯ï¼šè¯»å– "123"ï¼ˆ3å­—èŠ‚ï¼‰
// å¦‚æœä¸æ¸…ç©ºï¼Œbuf = "123loWorld"  â† åé¢æ˜¯ä¸Šæ¬¡çš„æ®‹ç•™ï¼
//                       â†‘æ–°æ•°æ® â†‘æ—§æ•°æ®
// æ¸…ç©ºåï¼Œ   buf = "123\0\0\0\0\0\0\0"  â† æ­£ç¡®ï¼
```



### 3.æ–‡ä»¶æ‹·è´ï¼ˆè¯»å†™é…åˆï¼‰

```c
void demo3() {
    int res = 0;
    char buf[100] = {0};  // â­ ä¸­è½¬ç«™ï¼šå­˜å‚¨æ¯æ¬¡è¯»å–çš„æ•°æ®
    
    FILE *rfp = NULL;     // è¯»æ–‡ä»¶æŒ‡é’ˆ (read file pointer)
    FILE *wfp = NULL;     // å†™æ–‡ä»¶æŒ‡é’ˆ (write file pointer)
    
    // æ‰“å¼€ä¸¤ä¸ªæ–‡ä»¶ï¼šä¸€ä¸ªè¯»ï¼Œä¸€ä¸ªå†™
    rfp = fopen("./data/1.txt", "r+");           // æºæ–‡ä»¶
    wfp = fopen("./data/1-å‰¯æœ¬.txt", "w+");      // ç›®æ ‡æ–‡ä»¶
    
    if (rfp != NULL && wfp != NULL) {
        // ğŸ”‘ æ ¸å¿ƒå¾ªç¯ï¼šè¾¹è¯»è¾¹å†™
        while ((res = fread(buf, 1, sizeof(buf), rfp)) > 0) {
            //                   â†‘ä»rfpè¯»å–    
            //                        â†‘å®é™…è¯»åˆ°çš„å­—èŠ‚æ•°
            
            fwrite(buf, 1, res, wfp);
            //          â†‘å†™å…¥wfp  
            //              â†‘å…³é”®ï¼šå†™å…¥å®é™…è¯»åˆ°çš„å­—èŠ‚æ•°
            
            memset(buf, 0, sizeof(buf));  // æ¸…ç©ºç¼“å†²åŒº
        }
        
        printf("æ‹·è´æˆåŠŸï¼\n");
        fclose(rfp);
        fclose(wfp);
    }
    else {
        printf("æ‹·è´å¤±è´¥ï¼\n");
    }
}
```

#### ä¸ºä»€ä¹ˆfwriteçš„ç¬¬ä¸‰ä¸ªå‚æ•°ç”¨resè€Œä¸æ˜¯sizeof(buf)ï¼Ÿ

```c
// å‡è®¾æ–‡ä»¶å¤§å°ï¼š250å­—èŠ‚ï¼Œbufå¤§å°ï¼š100å­—èŠ‚

// ç¬¬1æ¬¡å¾ªç¯ï¼šè¯»å–100å­—èŠ‚
res = fread(buf, 1, 100, rfp);  // res = 100
fwrite(buf, 1, 100, wfp);       // âœ… å†™å…¥100å­—èŠ‚

// ç¬¬2æ¬¡å¾ªç¯ï¼šè¯»å–100å­—èŠ‚
res = fread(buf, 1, 100, rfp);  // res = 100
fwrite(buf, 1, 100, wfp);       // âœ… å†™å…¥100å­—èŠ‚

// ç¬¬3æ¬¡å¾ªç¯ï¼šåªå‰©50å­—èŠ‚
res = fread(buf, 1, 100, rfp);  // res = 50ï¼ˆæ²¡æœ‰100å­—èŠ‚äº†ï¼‰
fwrite(buf, 1, 50, wfp);        // âœ… åªå†™å…¥50å­—èŠ‚
//              â†‘å¿…é¡»ç”¨resï¼Œå¦åˆ™ä¼šå†™å…¥åƒåœ¾æ•°æ®ï¼

// å¦‚æœé”™è¯¯åœ°å†™æˆï¼š
fwrite(buf, 1, 100, wfp);       // âŒ å¤šå†™äº†50å­—èŠ‚çš„åƒåœ¾ï¼
```

#### ä¸ºä»€ä¹ˆè¯´int buf[100]æ…ç”¨?

```c
char buf[100];  // 100å­—èŠ‚  âœ… åˆç†
int buf[100];   // 400å­—èŠ‚  âš ï¸ æµªè´¹ï¼ï¼ˆint=4å­—èŠ‚ï¼‰

// æ–‡ä»¶æ‹·è´åªéœ€è¦ä¸´æ—¶å­˜å‚¨ï¼Œcharè¶³å¤Ÿ
```



### 4.ç»“æ„ä½“ä¿å­˜ï¼ˆé‡ç‚¹ï¼šäºŒè¿›åˆ¶ vs æ–‡æœ¬æ ¼å¼ï¼‰

| ç‰¹æ€§       | äºŒè¿›åˆ¶æ ¼å¼å­˜å‚¨       | æ–‡æœ¬æ ¼å¼å­˜å‚¨             |
| :--------- | :------------------- | :----------------------- |
| å†™å…¥æ–¹å¼   | fwrite(&ç»“æ„ä½“)      | sprintf â†’ fwrite(å­—ç¬¦ä¸²) |
| å­˜å‚¨å†…å®¹   | å†…å­˜åŸå§‹å­—èŠ‚         | ASCIIå­—ç¬¦ä¸²              |
| è®°äº‹æœ¬å¯è¯» | âŒ ä¹±ç                | âœ… æ­£å¸¸æ˜¾ç¤º               |
| æ–‡ä»¶æ‰©å±•å | é€šå¸¸ .dat/.bin       | é€šå¸¸ .txt/.csv           |
| é€‚ç”¨åœºæ™¯   | å›¾ç‰‡ã€éŸ³é¢‘ã€å¤§é‡æ•°æ® | é…ç½®æ–‡ä»¶ã€æ—¥å¿—           |

#### æ–¹å¼1ï¼šäºŒè¿›åˆ¶æ–¹å¼ï¼ˆåŸå§‹ä½†å¿«ï¼‰

```c
void method1_binary() {
    STU stu = {"OM0250401", "å¼ ä¸‰", 20};
    FILE *fp = fopen("./data/test.dat", "wb");
    
    // ç›´æ¥æŠŠæ•´ä¸ªç»“æ„ä½“å†™å…¥ï¼ˆ40å­—èŠ‚ï¼‰
    fwrite(&stu, sizeof(STU), 1, fp);
    //      â†‘å–åœ°å€  â†‘æ•´ä¸ªç»“æ„ä½“å¤§å°
    
    fclose(fp);
}

// è¯»å–
void readMethod1() {
    STU resStu;
    FILE *fp = fopen("./data/test.dat", "rb");
    
    // ç›´æ¥è¯»å–æ•´ä¸ªç»“æ„ä½“
    fread(&resStu, sizeof(STU), 1, fp);
    
    printf("å­¦å·ï¼š%s\n", resStu.stuID);
    printf("å§“åï¼š%s\n", resStu.stuName);
    printf("å¹´é¾„ï¼š%d\n", resStu.age);
    
    fclose(fp);
}
```



#### æ–¹å¼2ï¼šæ–‡æœ¬æ ¼å¼ï¼ˆæ¨èï¼‰

```c
void method2_text() {
    STU stu = {"OM0250401", "å¼ ä¸‰", 20};
    char buf[100] = {0};
    FILE *fp = fopen("./data/test.txt", "w+");
    
    // å…³é”®ï¼šsprintf å°†ç»“æ„ä½“æ•°æ®æ‹¼æ¥æˆå­—ç¬¦ä¸²
    sprintf(buf, "%s %s %d", stu.stuID, stu.stuName, stu.age);
    //       â†‘å­˜å‚¨åˆ°buf   
    //              â†‘æ ¼å¼åŒ–å­—ç¬¦ä¸²           â†‘æ•°æ®æ¥æº
    // ç»“æœï¼šbuf = "OM0250401 å¼ ä¸‰ 20"
    
    // å†™å…¥æ–‡æœ¬ï¼ˆåªéœ€è¦å­—ç¬¦ä¸²å®é™…é•¿åº¦ï¼‰
    fwrite(buf, 1, strlen(buf), fp);
    //              â†‘åªå†™æœ‰æ•ˆæ•°æ®ï¼Œä¸å†™æ•´ä¸ªbuf
    
    fclose(fp);
}

// è¯»å–
void readMethod2() {
    char buf[100] = {0};
    STU resStu = {0};
    FILE *fp = fopen("./data/test.txt", "r+");
    
    // 1. å…ˆè¯»å–æ•´è¡Œåˆ°buf
    fread(buf, 1, sizeof(buf), fp);
    // bufç°åœ¨æ˜¯ï¼š"OM0250401 å¼ ä¸‰ 20"
    
    // 2.  å…³é”®ï¼šsscanf æŒ‰æ ¼å¼æ‹†è§£å­—ç¬¦ä¸²
    sscanf(buf, "%s %s %d", 
           resStu.stuID,      // æ•°ç»„åæœ¬èº«å°±æ˜¯æŒ‡é’ˆï¼Œä¸éœ€è¦&
           resStu.stuName,    // åŒä¸Š
           &(resStu.age));    // âš ï¸ æ™®é€šå˜é‡éœ€è¦å–åœ°å€ï¼
    //  â†‘ä»bufè¯»å–  â†‘æ ¼å¼   â†‘å­˜å‚¨ä½ç½®
    
    printf("å­¦å·ï¼š%s\n", resStu.stuID);
    printf("å§“åï¼š%s\n", resStu.stuName);
    printf("å¹´é¾„ï¼š%d\n", resStu.age);
    
    fclose(fp);
}
```

æ³¨æ„ï¼šæ–‡ä»¶åç¼€ååªæ˜¯ç»™äººçœ‹çš„æ ‡è¯†ï¼ŒçœŸæ­£å†³å®š"å¯è¯»æ€§"çš„æ˜¯æ–‡ä»¶å†…å®¹æœ¬èº«ï¼Œä¸æ˜¯åç¼€åï¼

è€Œçº¦å®šä¿—æˆçš„ï¼ŒäºŒè¿›åˆ¶æ ¼å¼ â†’ ç”¨ .dat åç¼€    æ–‡æœ¬æ ¼å¼ â†’ ç”¨ .txt åç¼€

å³ä½¿ äºŒè¿›åˆ¶ç”¨txtæ‰“å¼€ï¼Œä¹Ÿæ˜¯ä¹±ç       åŒæ ·çš„ï¼Œå³ä½¿æ–‡æœ¬æ–‡ä»¶ç”¨datæ‰“å¼€ï¼Œä¹Ÿèƒ½æ­£å¸¸æ˜¾ç¤ºã€‚ä¸‹é¢æ˜¯æˆ‘çš„æµ‹è¯•ç»“æœæ€»ç»“

```c
#include <stdio.h>
#include <string.h>

typedef struct {
    char stuID[20];
    char stuName[20];
    int age;
} STU;

int main() {
    STU stu = {"OM0250401", "å¼ ä¸‰", 20};
    char buf[100];
    
    // åˆ›å»º4ä¸ªæ–‡ä»¶åšå¯¹æ¯”
    
    // 1. äºŒè¿›åˆ¶å†…å®¹ + .datåç¼€ï¼ˆæ ‡å‡†ï¼‰
    FILE *f1 = fopen("1_binary.dat", "wb");
    fwrite(&stu, sizeof(STU), 1, f1);
    fclose(f1);
    
    // 2. äºŒè¿›åˆ¶å†…å®¹ + .txtåç¼€ï¼ˆå®¹æ˜“è¯¯å¯¼ï¼‰
    FILE *f2 = fopen("2_binary.txt", "wb");
    fwrite(&stu, sizeof(STU), 1, f2);
    fclose(f2);
    
    // 3. æ–‡æœ¬å†…å®¹ + .txtåç¼€ï¼ˆæ ‡å‡†ï¼‰
    sprintf(buf, "%s %s %d", stu.stuID, stu.stuName, stu.age);
    FILE *f3 = fopen("3_text.txt", "w");
    fwrite(buf, 1, strlen(buf), f3);
    fclose(f3);
    
    // 4. æ–‡æœ¬å†…å®¹ + .datåç¼€ï¼ˆå®¹æ˜“è¯¯å¯¼ï¼‰
    FILE *f4 = fopen("4_text.dat", "w");
    fwrite(buf, 1, strlen(buf), f4);
    fclose(f4);
    
    printf("ç”Ÿæˆäº†4ä¸ªæ–‡ä»¶ï¼Œç”¨è®°äº‹æœ¬æ‰“å¼€å¯¹æ¯”ï¼š\n\n");
    printf("1_binary.dat - ä¹±ç ï¼ˆæ ‡å‡†ï¼šäºŒè¿›åˆ¶ç”¨.datï¼‰\n");
    printf("2_binary.txt - ä¹±ç ï¼ˆè™½ç„¶åç¼€æ˜¯.txtï¼Œä½†å†…å®¹æ˜¯äºŒè¿›åˆ¶ï¼‰\n");
    printf("3_text.txt   - æ­£å¸¸ï¼ˆæ ‡å‡†ï¼šæ–‡æœ¬ç”¨.txtï¼‰\n");
    printf("4_text.dat   - æ­£å¸¸ï¼ˆè™½ç„¶åç¼€æ˜¯.datï¼Œä½†å†…å®¹æ˜¯æ–‡æœ¬ï¼‰\n");
    
    return 0;
} printf("1_binary.dat - ä¹±ç ï¼ˆæ ‡å‡†ï¼šäºŒè¿›åˆ¶ç”¨.datï¼‰\n");

  printf("2_binary.txt - ä¹±ç ï¼ˆè™½ç„¶åç¼€æ˜¯.txtï¼Œä½†å†…å®¹æ˜¯äºŒè¿›åˆ¶ï¼‰\n");

  printf("3_text.txt  - æ­£å¸¸ï¼ˆæ ‡å‡†ï¼šæ–‡æœ¬ç”¨.txtï¼‰\n");

  printf("4_text.dat  - æ­£å¸¸ï¼ˆè™½ç„¶åç¼€æ˜¯.datï¼Œä½†å†…å®¹æ˜¯æ–‡æœ¬ï¼‰\n");
```



#### æ ¸å¿ƒçŸ¥è¯†ç‚¹ sprintf vs sscanf

#### sprintfï¼šæ‹¼æ¥å­—ç¬¦ä¸²ï¼ˆå†™æ–‡ä»¶å‰ï¼‰

```c
char buf[100];
int age = 20;
float score = 85.5;

// ç±»ä¼¼printfï¼Œä½†è¾“å‡ºåˆ°å­—ç¬¦ä¸²è€Œä¸æ˜¯å±å¹•
sprintf(buf, "å§“å:%s å¹´é¾„:%d æˆç»©:%.2f", "å¼ ä¸‰", age, score);

// ç»“æœï¼šbuf = "å§“å:å¼ ä¸‰ å¹´é¾„:20 æˆç»©:85.50"
```

#### sscanf ï¼šæ‹†è§£å­—ç¬¦ä¸²ï¼ˆè¯»æ–‡ä»¶åï¼‰

```c
char buf[] = "å¼ ä¸‰ 20 85.5";
char name[20];
int age;
float score;

// ç±»ä¼¼scanfï¼Œä½†ä»å­—ç¬¦ä¸²è¯»å–è€Œä¸æ˜¯é”®ç›˜
sscanf(buf, "%s %d %f", name, &age, &score);
//                       â†‘æ•°ç»„  â†‘å˜é‡è¦åŠ &

// ç»“æœï¼šname="å¼ ä¸‰", age=20, score=85.5
```



#### æ€»ç»“

| æ–¹å¼   | å†™å…¥                             | è¯»å–                               | é€‚ç”¨åœºæ™¯             |
| :----- | :------------------------------- | :--------------------------------- | :------------------- |
| äºŒè¿›åˆ¶ | fwrite(&stu, sizeof(STU), 1, fp) | fread(&resStu, sizeof(STU), 1, fp) | æ€§èƒ½ä¼˜å…ˆã€å¤§é‡æ•°æ®   |
| æ–‡æœ¬   | sprintf â†’ fwrite                 | fread â†’ sscanf                     | å¯è¯»æ€§ä¼˜å…ˆã€é…ç½®æ–‡ä»¶ |
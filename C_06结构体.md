## 结构体数组

**N个技术名称组合，本质看最后一个词组**

```
结构体数组
数组指针
指针数组
结构体指针数组
```

### 结构体数组的重命名

**方式一：分开定义（先定义结构体，再定义数组类型）**

```c
// 先定义结构体
struct Student {
    char name[20];
    int age;
};

// 再用typedef给结构体数组类型起别名
typedef struct Student StudentArray[10];

// 使用
StudentArray class1;  // 等价于 struct Student class1[10];
class1[0].age = 18;
```

**方式二：同时定义结构体类型和数组类型**

```c
typedef struct {
    char name[20];
    int age;
} Student, StudentArray[10];

// 使用
Student s1;              // 单个结构体变量
StudentArray class1;     // 10个结构体的数组
```

**方式三：先typedef结构体，再typedef数组（最常用）**

```c
// 第一步：给结构体起别名
typedef struct {
    char name[20];
    int age;
} Student;

// 第二步：给这个结构体的数组类型起别名
typedef Student StudentArray[10];

// 使用
Student s1;              // 单个学生
StudentArray class1;     // 10个学生的数组
class1[0].age = 18;
```

## 注意事项：

1. 数组大小是类型的一部分：StudentArray[10] 和 StudentArray[20] 是不同的类型

2.函数参数传递的特殊性：

```c
typedef Student StudentArray[10];

void func(StudentArray arr);  // 实际上等价于 void func(Student *arr)
// 数组作为函数参数会退化为指针
```

3.大小固定的局限性：typedef的数组类型大小是固定的，灵活性不如指针

总结：可以用typedef重命名结构体数组类型，但因为数组大小固定的限制，实际用得不多。更常见的是只typedef结构体本身。